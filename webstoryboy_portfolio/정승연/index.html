<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/fonts.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bungee+Shade&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fugaz+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Italiana&display=swap" rel="stylesheet">
    <link href="https://webfontworld.github.io/NanumSquare/NanumSquare.css" rel="stylesheet">
</head>
<body>

    <div class="scroll">0</div>

    <header id="header">
        <h1><em>Portfolio</em>, Creative Frontend</h1>
        <nav id="nav">
            <ul>
                <li class="active"><a href="#">Creative Frontend</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Work</a></li>
                <li><a href="#">Animation</a></li>
                <li><a href="#">Contant</a></li>
            </ul>
        </nav>
    </header>

    <main id="contents">
        <section id="section1">
            <canvas id="webgl-canvas"></canvas>
            <div class="h1 title1"><em>hello</em> <strong>my Portfolio</strong></div>
            <div class="h1 title2"><em>Portfolio</em>, <strong>Creative Frontend</strong></div>
        </section>
        <!-- //section1 -->
        
        <section id="section2">
            <div class="title3">
                <div class="t1"><span class="split">The very best</span></div><br>
                <div class="t2"><span class="split">SeungYeon portfolios of</span></div>
                <div class="arrow">
                    <svg width="12" height="295" viewBox="0 0 12 295" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M11.3038 289.757L6.53078 294.53C6.23789 294.823 5.76302 294.823 5.47012 294.53L0.697153 289.757C0.404259 289.464 0.404259 288.99 0.697153 288.697C0.990046 288.404 1.46492 288.404 1.75781 288.697L5.25045 292.189L5.25047 -2.742e-07L6.75047 -2.08633e-07L6.75045 292.189L10.2431 288.697C10.536 288.404 11.0109 288.404 11.3038 288.697C11.5966 288.99 11.5966 289.464 11.3038 289.757Z" fill="white"/>
                    </svg>    
                </div>
            </div>
            <div class="n2020">
                <div class="t1">
                    <div>20</div>
                    <div>22</div>
                </div>
                <div class="n1"
                    data-1000="top:0vw"
                    data-4000="top:40vw"
                >
                    <div class="cover">
                        <img src="https://images.unsplash.com/photo-1525120334885-38cc03a6ec77?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2370&q=80" alt="">
                    </div>
                </div>
                <div class="n2" 
                    data-1000="top:40vw"
                    data-4000="top:60vw"
                >
                    <div class="cover">
                        <img src="https://images.unsplash.com/photo-1476782916354-326ab24c93df?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2367&q=80" alt="">
                    </div>
                </div>
                <div class="n3"
                    data-2000="top:70vw"
                    data-4000="top:100vw"
                >
                    <div class="cover">
                        <img src="https://images.unsplash.com/photo-1520350094754-f0fdcac35c1c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2370&q=80" alt="">
                    </div>
                </div>
                <div class="n4"
                    data-2000="top:90vw"
                    data-4000="top:110vw"
                >
                    <div class="cover">
                        <img src="https://images.unsplash.com/photo-1530021232320-687d8e3dba54?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=987&q=80" alt="">
                    </div>
                </div>
            </div>
        </section>
        <!-- //section2 -->

        <section id="section3">
            <div class="sec3">
                <h3>About<br>me</h3>
                <div class="arrow">
                    <svg width="12" height="295" viewBox="0 0 12 295" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M11.3038 289.757L6.53078 294.53C6.23789 294.823 5.76302 294.823 5.47012 294.53L0.697153 289.757C0.404259 289.464 0.404259 288.99 0.697153 288.697C0.990046 288.404 1.46492 288.404 1.75781 288.697L5.25045 292.189L5.25047 -2.742e-07L6.75047 -2.08633e-07L6.75045 292.189L10.2431 288.697C10.536 288.404 11.0109 288.404 11.3038 288.697C11.5966 288.99 11.5966 289.464 11.3038 289.757Z" fill="white"/>
                    </svg>    
                </div>
                <div class="sec3_img_wrap">
                    <div class="sec3_img"
                        data-6000 = "top: -10%"
                        data-8000 = "top: 10%"
                    ></div>
                </div>
                <div class="about__cont__text">
                    <div class="t1">반갑습니다! 신입 프론트앤드 개발자 정승연입니다.</div>
                    
                </div>
            </div>
        </section>
        <!-- //section3 -->
        <style>
           
            .slider {
  position: relative;
  counter-reset: number-counter;
  font-family: "Gilroy";
}
.slider__image {
  opacity: 0;
  visibility: hidden;
  position: fixed;
  object-fit: cover;
  height: 250px;
  width: 350px;
  border-radius: 20px;
  pointer-events: none;
  will-change: transform;
}

.slide {
  position: relative;
  padding: 64px 0;
  border-bottom: solid 1px #ccced9;
  cursor: pointer;
}
.slide > * {
  pointer-events: none;
}
.slide::before {
  font-family: "Gilroy Semi-Bold";
  font-size: 16px;
  position: absolute;
  left: 0px;
  top: 40px;
  counter-increment: number-counter;
  content: counter(number-counter) ".";
}
.slide:hover .slide__image {
  opacity: 1;
}
.slide h2 {
  color: var(--color-secondary);
  font-size: 120px;
  font-family: "Gilroy Semi-Bold";
  line-height: 1.2;
  letter-spacing: -0.05em;
  transition: 0.2s ease color;
}
.slide__image {
  opacity: 0;
  visibility: hidden;
}
        </style>

        <section id="section4">
            <div class="cotainer">
                <div class="slider">
                    <img src="" alt="" class="slider__image">
                    <div class="slide">
                        <h2>Adidas</h2>
                        <img class="slide__image" data-src="https://assets.codepen.io/2479807/adidas.jpg" />
                    </div>
                    <div class="slide">
                        <h2>Nike</h2>
                        <img class="slide__image" data-src="https://assets.codepen.io/2479807/nike.jpg" />
                    </div>
                    <div class="slide">
                        <h2>River</h2>
                        <img class="slide__image" data-src="https://assets.codepen.io/2479807/river.jpg" />
                    </div>
                    <div class="slide">
                        <h2>Waves</h2>
                        <img class="slide__image" data-src="https://assets.codepen.io/2479807/final.jpg" />
                    </div>
                </div>
            </div>
        </section><!-- //section4 -->
        <section id="section5"></section><!-- //section5 -->
        <section id="section6"></section><!-- //section6 -->
        <section id="section7"></section><!-- //section7 -->
    </main>
    <!-- //contents -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
    <script src="assets/js/sectionBg.js"></script>
    <script src="assets/js/skrollr.min.js"></script>
    <script src="https://assets.codepen.io/16327/ScrollTrigger.min.js?v=3.10.0"></script>
    <script>
        const slider = document.querySelector(".slider");
        const image = document.querySelector(".slider__image");
        const bounds = image.getBoundingClientRect();

        console.log(bounds)

        slider.addEventListener("mousemove", (e) => {
            const imageSrc = e.target.querySelector("img")?.getAttribute("data-src");

            if (imageSrc) {
                image.src = imageSrc;

                const xMovement = Math.min(Math.max(parseInt(e.movementX), -20), 20);
                const yMovement = Math.min(Math.max(parseInt(e.movementY), -20), 20);

                gsap.to(image, {
                    autoAlpha: 1,
                    x: e.clientX - bounds.left,
                    y: e.clientY - bounds.top + 6000,
                    transformOrigin: "center",
                    rotation: xMovement,
                    skewX: xMovement,
                    skewY: yMovement
                });
            } else {
                image.src = "";

                gsap.set(image, {
                    autoAlpha: 0
                });
            }
        });


        var s = skrollr.init({
            smoothScrolling: true
        });

        document.querySelectorAll(".split").forEach(desc => {
            let splitText = desc.innerText;
            let splitWrap = splitText.split('').join("</span><span aria-hidden='true'>");
                splitWrap = "<span aria-hidden='true'>" + splitWrap + "</span>";
                desc.innerHTML = splitWrap;
                desc.setAttribute("aria-label", splitText);
        })

        gsap.set(".title1 em", {y: 50, opacity: 0});
        gsap.set(".title1 strong", {y: 60, opacity: 0});
        gsap.set("#header h1", {opacity: 0, y:-100})
        gsap.set("#nav", {opacity: 0, y:-100})

        setTimeout(() => {
            gsap.to(".title1 em", {duration: 0.4, opacity: 1, y:0, ease: "bounce.out"})
            gsap.to(".title1 strong", {duration: 0.4, opacity: 1, y:0, delay: 0.3, ease: "power4.out"})
            gsap.to(".title1 em", {duration: 0.4, opacity: 0, y:-80, delay: 1.6})
            gsap.to(".title1 strong", {duration: 0.4, opacity: 0, y:-90, delay: 1.9})

            gsap.to("#header h1", {duration: 0.4, opacity: 1, y:0, delay: 2.2})
            gsap.to("#nav", {duration: 0.4, opacity: 1, y:0, delay: 2.5})
        },2000);

        window.addEventListener("scroll", () => {
            let scrollTop = window.pageYOffset || document.documentElement.scrollTop || window.scrollY;

            document.querySelector(".scroll").innerText = Math.round(scrollTop);

            if(scrollTop > document.querySelector(".title3").offsetTop - 400){
                gsap.to("#section2 .title3 > div.t1 span", {duration: 0.3, y: 0, stagger: 0.01,})
                gsap.to("#section2 .title3 > div.t2 span", {duration: 0.3, y: 0, stagger: 0.01, delay: 0.4})
            }

        });

        class SupahScroll {
            constructor(options) {
                this.opt = options || {}
                this.el = this.opt.el ? this.opt.el : '.supah-scroll'
                this.speed = this.opt.speed ? this.opt.speed : 0.1
                this.init()
            }

            init() {
                this.scrollY = 0
                this.supahScroll = document.querySelectorAll(this.el)[0]
                this.supahScroll.classList.add('supah-scroll')
                //this.sec3h3 = document.querySelector(".sec3 h3")
                this.events()
                this.update()
                this.animate()
            }
            
            update() {
                if (this.supahScroll === null) return
                document.body.style.height = `${this.supahScroll.getBoundingClientRect().height}px`
            }
            
            pause() {
                document.body.style.overflow = 'hidden'
                cancelAnimationFrame(this.raf)
            }
            
            play() {
                document.body.style.overflow = 'inherit'
                this.raf = requestAnimationFrame(this.animate.bind(this))
            }
            
            destroy() {
                this.supahScroll.classList.remove('supah-scroll')
                this.supahScroll.style.transform = 'none'
                document.body.style.overflow = 'inherit'
                window.removeEventListener('resize', this.update)
                cancelAnimationFrame(this.raf)
                delete this.supahScroll
            }

            animate() {
                this.scrollY += (window.scrollY - this.scrollY) * this.speed
                this.supahScroll.style.transform = `translate3d(0,${-this.scrollY}px,0)`
                this.raf = requestAnimationFrame(this.animate.bind(this))
                //this.sec3h3.style.transform = `translate3d(${-this.scrollX * 0.08}px,0,0)`
            }
            
            scrollTo(y) {
                window.scrollTo(0, y)
            }
            
            staticScrollTo(y) {
                cancelAnimationFrame(this.raf)
                this.scrollY = y
                window.scrollTo(0, y)
                this.supahScroll.style.transform = `translate3d(0,${-y}px,0)`
                this.play()
            }
            
            events() {
                window.addEventListener('load', this.update.bind(this))
                window.addEventListener('resize', this.update.bind(this))
            }
        }

        const supahscroll = new SupahScroll({
            el: 'main',
            speed: 0.1
        })


    </script>
</body>
</html>