<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dd</title>

    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/style2.css">
    <link rel="stylesheet" href="assets/css/locomotive.css">
    <style>
        /* layout */
        #section2 {
            background-color: #7d7565;
        }

        #section3 {
            background-color: #b9b3a9;
            height: 100vh;
        }

        #section2 {
            height: 100vh;
            overflow: hidden;
            display: flex;
            left: 0;
        }

        .sec2_wrap {
            height: 100vh;
            display: flex;
            justify-content: flex-start;
            align-items: center;
        }

        .sec2_wrap>div {
            min-width: 100vw;
            height: 40vh;
        }

        .sec2-1 {
            background-color: #51442b;
        }

        .sec2-2 {
            background-color: #b9b3a9;
        }

        .sec2-3 {
            background-color: #51442b;
        }
    </style>
</head>

<body>
    <div id="header">
        <div class="logo">
            <a href="#">portfolio</a>
            <div></div>
        </div>
        <nav class="nav">
            <a href="#">about</a>
            <a href="#">work</a>
            <a href="#">contact</a>
        </nav>
    </div>
    <!-- //header -->

    <main id="main">
        <section id="section1" class="vertical">
            <div class="sec1_wrap">
                <div class="sec1-1">
                    <div class="sec1_bg">
                        <div class="layout">
                            <div class="box1">
                                <span>developer</span>
                            </div>
                            <div class="box2"></div>
                            <div class="box3">
                                <span>frontend</span>
                            </div>
                        </div>
                        <canvas id="three_bg"></canvas>
                    </div>
                </div>
                <div class="sec1-2">
                    <div class="sec2_bg bb_line">
                        <h2 data-scroll data-scroll-speed="3" data-scroll-direction="horizontal">portfolio</h2>
                    </div>
                </div>
                <div class="sec1-3">
                    <div class="sec3_about">
                        dd
                    </div>
                </div>
                <div class="sec1-4">
                    <div class="sec4_title">
                        <h2 data-scroll data-scroll-speed="-3" data-scroll-direction="horizontal">SIDE CODING</h2>
                    </div>
                    <div class="sec4_index">
                        <div>1</div>
                        <div>2</div>
                        <div>3</div>
                        <div>4</div>
                        <div>5</div>
                    </div>
                    <div class="sec4_site1">
                        <div class="sleft">
                            <div class="site_img">
                                <img src="https://jowuseop1110.github.io/webs_class/portfolio2/img/webstandard.jpg"
                                    alt="">
                            </div>
                        </div>
                        <div class="sright">
                            <div class="site_title">
                                <div class="desc">
                                    <span class="num">01.</span>
                                    <h3 class="tit">webstandard</h3>
                                    <p class="de">
                                        컴퍼넌트로 페이지를 작성하고 PROPS를 활용하여 데이터를 주고받는 <br>
                                        흐름을 완벽하게 이해하고 응용하여 만든 React Blog 입니다.<br>
                                        반응형 웹 사이트입니다. 웹표준을 준수하며 스크립트요소들을 활용하여 반응형까지 지원하는 페이지입니다.<br>
                                        웹표준형 사이트입니다. 웹접근성에 근거하여 모든 사용자가 사용함에 있어 불편함없이 설계된 사이트입니다.
                                    </p>
                                    <p>
                                        <span>#웹표준</span>
                                        <span>#웹접근성</span>
                                        <span>#웹지침서</span>
                                    </p>
                                </div>
                                <div class="code">
<pre><code>{
    const renderer = new $.WebGLRenderer();
    document.body.prepend(renderer.domElement);
    window.addEventListener('resize', () => {
        const {
            clientWidth,
            clientHeight
        } = renderer.domElement;
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.setSize(clientWidth, clientHeight, false);
        camera.aspect = clientWidth / clientHeight;
        camera.updateProjectionMatrix();
    });

    const radius0 = 8;
    const radius1 = 4;
    const nSeed = 20;

    const radius = radius0 + radius1;
    const scene = new $.Scene();
    const camera = new $.PerspectiveCamera(32, 2, .1, 1000);
    const controls = new OrbitControls(camera, renderer.domElement);
    camera.position.set(0, 0, 64);
    scene.background = new $.Color('papayawhip');
}
</code></pre>
                                </div>
                            </div>
                            <div class="site_btn">
                                <div class="switch-button">
                                    <span class="active"></span>
                                    <button class="switch-button-case left active-case">DESCRIPTION</button>
                                    <button class="switch-button-case right">CODE</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="sec4_site1 change">
                        <div class="sleft">
                            <div class="site_img">
                                <img src="https://images.unsplash.com/photo-1497032628192-86f99bcd76bc?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=80&raw_url=true&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470" alt="">
                            </div>
                        </div>
                        <div class="sright">
                            <div class="site_title">
                                <div class="desc">
                                    <span class="num">02.</span>
                                    <h3 class="tit">responsive</h3>
                                    <p class="de">
                                        컴퍼넌트로 페이지를 작성하고 PROPS를 활용하여 데이터를 주고받는 <br>
                                        흐름을 완벽하게 이해하고 응용하여 만든 React Blog 입니다.<br>
                                        반응형 웹 사이트입니다. 웹표준을 준수하며 스크립트요소들을 활용하여 반응형까지 지원하는 페이지입니다.<br>
                                        웹표준형 사이트입니다. 웹접근성에 근거하여 모든 사용자가 사용함에 있어 불편함없이 설계된 사이트입니다.
                                    </p>
                                    <p>
                                        <span>#웹표준</span>
                                        <span>#웹접근성</span>
                                        <span>#웹지침서</span>
                                    </p>
                                </div>
                                <div class="code">code</div>
                            </div>
                            <div class="site_btn">
                                <div class="switch-button">
                                    <span class="active"></span>
                                    <button class="switch-button-case left active-case">DESCRIPTION</button>
                                    <button class="switch-button-case right">CODE</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="sec4_site3">sec4_site3</div>
                    <div class="sec4_site4">sec4_site4</div>
                    <div class="sec4_site5">sec4_site5</div>
                </div>
                <div class="sec1-5">
                    <div class="sec5_about">
                        sec5_about
                    </div>
                </div>
            </div>
        </section>
        <section id="section2" class="horizontal">
            <div class="sec2_wrap">
                <div class="sec2-1">sec2-1</div>
                <div class="sec2-2">sec2-2</div>
                <div class="sec2-3">sec2-3</div>
            </div>
        </section>
        <section id="section3">section3</section>
    </main>

    <script src='https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.min.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/89/three.min.js"></script>
    <script>
        var switchButton = document.querySelector('.switch-button');
        var switchBtnRight = document.querySelectorAll('.switch-button-case.right');
        var switchBtnLeft = document.querySelectorAll('.switch-button-case.left');
        var activeSwitch = document.querySelector('.active');

        function switchLeft() {
            switchBtnRight.classList.remove('active-case');
            switchBtnLeft.classList.add('active-case');
            activeSwitch.style.left = '0%';
        }

        function switchRight() {
            switchBtnRight.classList.add('active-case');
            switchBtnLeft.classList.remove('active-case');
            activeSwitch.style.left = '50%';
        }

        switchBtnLeft.forEach(btnLeft => {
            btnLeft.addEventListener("click", function(){
                //switchLeft();
            });
        })

        switchBtnRight.forEach(btnLeft => {
            btnLeft.addEventListener("click", function(){
                const target = btnLeft.parentNode.parentNode.parentNode;
                const code = target.querySelector(".code");
                gsap.to(code, {duration: 0.3, top: 0})
            });
        })
    </script>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        const pageContents = document.getElementById("main");
        const scroller = new LocomotiveScroll({
            el: pageContents,
            smooth: true
        });
        scroller.on("scroll", ScrollTrigger.update);

        ScrollTrigger.scrollerProxy(pageContents, {
            scrollTop(value) {
                return arguments.length ?
                    scroller.scrollTo(value, 0, 0) :
                    scroller.scroll.instance.scroll.y;
            },
            getBoundingClientRect() {
                return {
                    left: 0,
                    top: 0,
                    width: window.innerWidth,
                    height: window.innerHeight
                };
            },
            pinType: pageContents.style.transform ? "transform" : "fixed"
        });

        window.addEventListener("load", function () {
            let sec2WrapWidth = document.querySelector(".sec2_wrap").offsetWidth;
            let horizontal2 = sec2WrapWidth - window.innerWidth;

            gsap.to("#section2 .sec2_wrap", {
                scrollTrigger: {
                    scroller: pageContents,
                    scrub: true,
                    trigger: "#section2",
                    pin: true,
                    start: "top top",
                    markers: true,
                    end: sec2WrapWidth
                },
                x: -horizontal2,
                ease: "none"
            });

            ScrollTrigger.addEventListener("refresh", () => scroller.update());
            ScrollTrigger.refresh();
        });
    </script>

    <script id="vertexShader" type="x-shader/x-vertex">
        void main() {
            gl_Position = vec4( position, 1.0 );
        }
    </script>
    <script id="fragmentShader" type="x-shader/x-fragment">
        #ifdef GL_ES
        precision mediump float;
        #endif
        uniform float time;
        uniform vec2 resolution;

        const int complexity = 3;
        const float fluid_speed = 10.0;
        const float color_intensity = 1.0;

        float random (in vec2 st) {
            return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);
        }

        void main(){
            vec2 uv = (gl_FragCoord.xy * 2.0 - resolution.xy) / min(resolution.x, resolution.y);
            float r = sqrt( dot( uv, uv ) );
            
            for(int i=1; i<complexity; i++){
                vec2 newUv = uv + time * 0.01;
                newUv.x += 1.5/float(i) * sin(float(i) * uv.y + time/fluid_speed) + 1.0;
                newUv.y += 1.4/float(i) * cos(float(i) * uv.x + time/fluid_speed) - 0.9;
                uv = newUv;
            }

            vec3 col = vec3(color_intensity*cos(uv.x) * 0.9, color_intensity * sin(uv.x) * sqrt(cos(time * 0.01)), color_intensity);
            gl_FragColor=vec4(col, 1.0);
        }
    </script>
    <script>
        var container;
        var camera, scene, renderer;
        var uniforms;

        init();
        animate();

        function init() {
            container = document.getElementById('container');

            camera = new THREE.Camera();
            camera.position.z = 1;

            scene = new THREE.Scene();

            var geometry = new THREE.PlaneBufferGeometry(2, 2);

            uniforms = {
                time: {
                    type: "f",
                    value: 1.0
                },
                resolution: {
                    type: "v2",
                    value: new THREE.Vector2()
                }
            };

            var material = new THREE.ShaderMaterial({
                uniforms: uniforms,
                vertexShader: document.getElementById('vertexShader').textContent,
                fragmentShader: document.getElementById('fragmentShader').textContent
            });

            var mesh = new THREE.Mesh(geometry, material);
            scene.add(mesh);

            renderer = new THREE.WebGLRenderer({
                canvas: document.getElementById("three_bg"),
            });
            renderer.setPixelRatio(window.devicePixelRatio);

            onWindowResize();
            window.addEventListener('resize', onWindowResize, false);
        }

        function onWindowResize(event) {
            renderer.setSize(window.innerWidth, window.innerHeight);
            uniforms.resolution.value.x = renderer.domElement.width;
            uniforms.resolution.value.y = renderer.domElement.height;
        }

        function animate() {
            requestAnimationFrame(animate);
            render();
        }

        function render() {
            uniforms.time.value += 0.05;
            renderer.render(scene, camera);
        }
    </script>
</body>

</html>