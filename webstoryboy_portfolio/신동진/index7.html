<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSAP Scroll Effect</title>

    <link href="https://webfontworld.github.io/NexonLv1Gothic/NexonLv1Gothic.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@100&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div id="contents">
        <div id="horizontal1">
            <section id="section1" class="item">
                <div class="text-wrap">
                    <div>2023</div>
                    <div>Portfolio</div>
                    <div>impact</div>
                </div>
                <div class="scroll">
                    <div>SCROLL</div>
                </div>
            </section>
            <!-- //section1 -->

            <section id="section2" class="item">
                <div class="sec2-img">
                    <div class="img"></div>
                    <p>
                        특수체육을 전공으로 공부하였고, 다양한 분야의 업무를 하며 나의 적성에 맞는 일을 찾고자 노력을 했습니다. 그러다보니 국비지원학원에서 코딩을 약 6개월간의 여정을 시작했습니다. 여정의 시간을 보내면서 재밌어하는 모습을 보면서 코딩도 내 적성에 맞다고 생각하게 되었습니다.
                    </p>
                </div>
            </section>
            <section id="section3" class="item"><span>3</span></section>
            <section id="section4" class="item"><span>4</span></section>
        </div>
        <div id="vertical">
            <section id="section5" class="item"><span>5</span></section>
            <section id="section6" class="item"><span>6</span></section>
            <section id="section7" class="item"><span>7</span></section>
            <section id="section8" class="item"><span>8</span></section>
        </div>
        <div id="horizontal2">
            <section id="section9" class="item"><span>9</span></section>
            <section id="section10" class="item"><span>10</span></section>
            <section id="section11" class="item"><span>11</span></section>
            <section id="section12" class="item"><span>12</span></section>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.1/ScrollToPlugin.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1/bundled/lenis.min.js"></script>

    <script>
        const lenis = new Lenis();

        function raf(time) {
            lenis.raf(time)
            requestAnimationFrame(raf);
        }

        requestAnimationFrame(raf);

        const horizontal1 = document.querySelector("#horizontal1");
        const section1 = gsap.utils.toArray("#horizontal1 > section");

        gsap.to(section1, {
            x: -(document.querySelector("#horizontal1").offsetWidth - window.innerWidth),
            ease: "none",
            scrollTrigger: {
                trigger: horizontal1,
                start: "top top",
                end: () =>  "+=" + (horizontal1.offsetWidth - innerWidth),
                pin: true,
                scrub: 1,
                invalidateOnRefresh: true,
                anticipatePin: 1
            }
        });

        const horizontal2 = document.querySelector("#horizontal2");
        const section2 = gsap.utils.toArray("#horizontal2 > section");

        gsap.to(section2, {
            xPercent: -100 * (section2.length - 1),
            ease: "none",
            scrollTrigger: {
                trigger: horizontal2,
                start: "top top",
                end: () =>  "+=" + (horizontal2.offsetWidth - innerWidth),
                pin: true,
                scrub: 1,
                invalidateOnRefresh: true,
                anticipatePin: 1
            }
        });
    </script>
</body>
</html>